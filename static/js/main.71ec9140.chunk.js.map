{"version":3,"sources":["components/Searchbar/Searchbar.js","components/Loader/Loader.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","services/imagesApi.js","App.js","index.js"],"names":["Header","styled","header","Form","form","Button","button","ButtonLabel","span","Input","input","Searchbar","state","searchQuery","handleInputQuery","e","setState","target","value","handleFormSubmit","preventDefault","props","onSubmit","this","type","autocomplete","autoFocus","placeholder","onChange","Component","SpinerContainer","div","Loader","color","height","width","timeout","GalleryItem","li","GalleryImage","img","ImageGalleryItem","image","alt","onOpenModal","src","onClick","GalleryList","ul","ImageGallery","images","onOpen","map","webformatURL","tags","largeImageURL","Backdrop","ModalWindow","CloseModal","Modal","handleEscPress","code","onClose","window","addEventListener","removeEventListener","className","children","perPage","axios","get","then","response","data","hits","Container","App","loading","largeImgRef","handleSearchQuery","query","fetchImages","imagesApi","prevState","handleOpenModal","imgRef","handleCloseModal","prevProps","length","dataLength","next","hasMore","loader","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.71ec9140.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\n\nconst Header = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\n\nconst Form = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\n\nconst Button = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-image: url(\"https://image.flaticon.com/icons/svg/149/149852.svg\");\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nconst ButtonLabel = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n\nconst Input = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n\nexport default class Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func,\n  };\n\n  state = {\n    searchQuery: \"\",\n  };\n\n  handleInputQuery = (e) => {\n    this.setState({ searchQuery: e.target.value });\n  };\n\n  handleFormSubmit = (e) => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: \"\" });\n  };\n\n  render() {\n    return (\n      <Header>\n        <Form onSubmit={this.handleFormSubmit}>\n          <Button type=\"submit\">\n            <ButtonLabel>Search</ButtonLabel>\n          </Button>\n\n          <Input\n            type=\"text\"\n            autocomplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchQuery}\n            onChange={this.handleInputQuery}\n          />\n        </Form>\n      </Header>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Spinner from \"react-loader-spinner\";\nimport styled from \"styled-components\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nconst SpinerContainer = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nexport default class Loader extends Component {\n  render() {\n    return (\n      <SpinerContainer>\n        <Spinner\n          type=\"ThreeDots\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={200}\n        />\n      </SpinerContainer>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"styled-components\";\n\nconst GalleryItem = styled.li`\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n`;\n\nconst GalleryImage = styled.img`\n  width: 100%;\n  height: 260px;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n`;\n\nfunction ImageGalleryItem({ image, alt, onOpenModal }) {\n  return (\n    <GalleryItem>\n      <GalleryImage src={image} alt={alt} onClick={onOpenModal} />\n    </GalleryItem>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.string,\n  alt: PropTypes.string,\n  onOpenModal: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"styled-components\";\n\nimport ImageGalleryItem from \"./ImageGalleryItem\";\n\nconst GalleryList = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nfunction ImageGallery({ images, onOpen }) {\n  return (\n    <GalleryList>\n      {images.map((image) => (\n        <ImageGalleryItem\n          key={image.largeImageURL}\n          image={image.webformatURL}\n          alt={image.tags}\n          onOpenModal={() => onOpen(image.largeImageURL)}\n        />\n      ))}\n    </GalleryList>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.object),\n  onOpen: PropTypes.func,\n};\n\nexport default ImageGallery;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\n\nconst Backdrop = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.5);\n`;\n\nconst ModalWindow = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  max-width: 900px;\n  width: 100%;\n  border-radius: 3px;\n  box-shadow: 0px 2px 1px -1px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n  z-index: 2000;\n`;\n\nconst CloseModal = styled.span`\n  position: absolute;\n  font-size: 30px;\n  color: #fff;\n  right: 50px;\n  top: 85px;\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nexport default class Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func,\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleEscPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleEscPress);\n  }\n\n  handleEscPress = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return (\n      <Backdrop onClick={this.props.onClose}>\n        <CloseModal onClick={this.props.onClose}>\n          <i className=\"fas fa-times\"></i>\n        </CloseModal>\n        <ModalWindow>{this.props.children}</ModalWindow>\n      </Backdrop>\n    );\n  }\n}\n","import axios from \"axios\";\n\nconst fetchImagesWithQuery = (searchQuery, perPage = 12) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=1&key=17911515-029745efd9a604c772829a1f1&image_type=photo&orientation=horizontal&per_page=${perPage}`\n    )\n    .then((response) => response.data.hits);\n};\n\nexport default { fetchImagesWithQuery };\n","import React, { Component } from \"react\";\n\nimport styled from \"styled-components\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\nimport Searchbar from \"./components/Searchbar\";\nimport Loader from \"./components/Loader\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Modal from \"./components/Modal\";\n\nimport imagesApi from \"./services/imagesApi\";\n\nconst Container = styled.div`\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 16px;\n  padding-bottom: 24px;\n`;\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    loading: false,\n    perPage: 12,\n    searchQuery: \"\",\n    largeImgRef: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQjery = this.state.searchQuery;\n\n    if (prevQuery !== nextQjery) {\n      this.setState({ images: [], perPage: 12 });\n      this.fetchImages();\n    }\n  }\n\n  handleSearchQuery = (query) => {\n    this.setState({ searchQuery: query });\n  };\n\n  fetchImages = () => {\n    const { searchQuery, perPage } = this.state;\n    <Loader />;\n\n    imagesApi.fetchImagesWithQuery(searchQuery, perPage).then((images) =>\n      this.setState((prevState) => ({\n        images: [...images],\n        perPage: prevState.perPage + 12,\n      }))\n    );\n  };\n\n  handleOpenModal = (imgRef) => {\n    this.setState({ largeImgRef: imgRef });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ largeImgRef: null });\n  };\n\n  render() {\n    const { images, largeImgRef } = this.state;\n    return (\n      <Container>\n        <Searchbar onSubmit={this.handleSearchQuery} />\n        {images.length > 0 && (\n          <InfiniteScroll\n            dataLength={images.length}\n            next={this.fetchImages}\n            hasMore={true}\n            loader={<Loader />}\n          >\n            <Loader />\n            <ImageGallery images={images} onOpen={this.handleOpenModal} />\n          </InfiniteScroll>\n        )}\n        {largeImgRef && (\n          <Modal onClose={this.handleCloseModal}>\n            <Loader />\n            <img src={largeImgRef} alt=\"\" />\n          </Modal>\n        )}\n      </Container>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nimport \"./base.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}